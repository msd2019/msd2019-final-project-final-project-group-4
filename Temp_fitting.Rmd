---
title: "Untitled"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(here)
library(scales)
library(igraph)
library(tidyverse)
library(dplyr)
library(glmnet)



theme_set(theme_bw())

knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

This is an R Markdown document. Markdown is a simple formatting syntax for authoring HTML, PDF, and MS Word documents. For more details on using R Markdown see <http://rmarkdown.rstudio.com>.

When you click the **Knit** button a document will be generated that includes both content as well as the output of any embedded R code chunks within the document. You can embed an R code chunk like this:

```{r begin}

epinions_edges <- read.delim("data/epinions.txt",col.names = c("FromNodeID","ToNodeID","Sign"))
epinion_nodes <-read.csv("nodes_features_epinions.csv")
epinions_embed <-read.csv("edges_features_epinions.csv")
temp_edges <- left_join(epinions_edges, epinions_embed, by = c("FromNodeID" = "u", "ToNodeID" = "v"))
in_features <- select(epinion_nodes,"node_id","total_in","pos_in","neg_in")
out_features <- select(epinion_nodes,"node_id","total_out","pos_out","neg_out")
master <- left_join(temp_edges, in_features, by = c("FromNodeID" = "node_id"))
master <- left_join(master, out_features,by = c("ToNodeID" = "node_id"))

mydata <- as.data.frame(master)
mydata <- mydata %>% mutate(Sign =(Sign+1)/2)

mylogit <- glm(Sign ~ embeddedness + total_in + pos_in + neg_in + total_out + pos_out + neg_out, data = mydata, family = "binomial")



```

